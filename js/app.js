!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){"use strict";b.exports=function(a){a.directive("map",["$rootScope",function(a){return{restrict:"EAC",scope:{username:"=",sql:"=",query:"=",columns:"=",dataTable:"="},link:function(a,b,c){function d(){var b={user_name:a.username,sublayers:[{sql:a.query,cartocss:"#layer { polygon-fill: #f00; }"}]};cartodb.Tiles.getTiles(b,function(b,c){null==b?console.log("error: ",c.errors.join("\n")):(g=new L.UtfGrid(b.grids[0][0]),f=L.tileLayer(b.tiles[0]),e.addLayer(g),e.addLayer(f),a.sql.getBounds(a.query).done(function(a){e.fitBounds(a)}),g.on("mouseover",function(a){console.log("hover",a.data)}))})}var e=L.map(b[0],{center:[0,0],zoom:1,scrollWheelZoom:!1,infowindow:!0});e.addLayer(L.tileLayer("http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"));var f,g;a.$watchGroup(["username","query","sql","columns","dataTable"],function(){"undefined"!=typeof f&&e.removeLayer(f),"undefined"!=typeof g&&e.removeLayer(g),a.username&&a.query&&a.sql&&d()})}}}])}},{}],2:[function(a,b,c){b.exports={options:{chart:{type:"spline",backgroundColor:null,plotBackgroundColor:null,style:{fontFamily:"Open Sans",color:"#ffffff"}},tooltip:{style:{padding:10,fontWeight:"bold"}},title:!1,subtitle:!1,legend:{enabled:!1},yAxis:{labels:{style:{color:"#fff"}},gridLineColor:"rgba(255,255,255,0.1)"},xAxis:{labels:{style:{color:"#fff"}}},credits:{enabled:!1}}}},{}],3:[function(a,b,c){highchartsDefaults=a("./highcharts-defaults");var d=angular.module("ia-colombia",["highcharts-ng"]).controller("SiteCtrl",["$rootScope","$scope","$timeout",function(a,b,c){b.user="infoamazonia",b.sql=new cartodb.SQL({user:b.user}),b.query="",b.dataTable="ideam_deforestacion_anual",b.dataQuery="SELECT * FROM "+b.dataTable,b.sql.execute(b.dataQuery).done(function(c){console.log(c);var d=[];for(var e in c.fields)"the_geom"!==e&&"the_geom_webmercator"!==e&&d.push(e);a.$apply(function(){b.columns=d,b.query="SELECT geom.the_geom, geom.the_geom_webmercator, data."+b.columns.join(", data.")+" FROM ideam_deforestacion_anual as data, subregiones_nomdepto_area_estudio_amz4326 as geom WHERE data.departamentos = nom_depto GROUP BY data.cartodb_id, geom.cartodb_id"})}),b.chartConfig=angular.extend({series:[{data:[10,15,12,8,7]}]},highchartsDefaults)}]);a("./directives")(d),angular.element(document).ready(function(){angular.bootstrap(document,["ia-colombia"])})},{"./directives":1,"./highcharts-defaults":2}]},{},[3]);